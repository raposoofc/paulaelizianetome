<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Rap√¥so Web Dev - https://portfolioraposoofc.vercel.app/" />
    <meta name="description" content="Agendamento online f√°cil e r√°pido para o Sal√£o Paula Eliziane Tom√©." />
    <title>Agendamento | Paula Eliziane Tom√©</title>
    <link rel="stylesheet" href="../css/style.css" /> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="icon" href="../icon/logocircular.ico" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&family=Ruda:wght@400;700&family=Shadow+Script&display=swap" rel="stylesheet" />
  </head>
  <body>
    <header id="site-header">
      <a href="../../index.html" class="back-link" aria-label="Voltar para o Menu Principal">
        <i class="fa-solid fa-arrow-left"></i>
      </a>
      <img src="../imgs/logocircular.png" alt="Paula Eliziane Tom√© Sal√£o Feminino Logo" id="logo-principal" />
      <h1>Agendamento Online</h1>
      <p>Reserve seu hor√°rio com anteced√™ncia e garanta seu atendimento!</p>
    </header>

    <main id="booking-main">
      <form id="booking-form" onsubmit="submitBooking(event)">

        <fieldset id="step-1" class="booking-step active">
          <legend>1. Qual procedimento faremos?</legend>
          
          <p style="margin-bottom: 10px; font-size: 0.9em;">Selecione o servi√ßo na lista abaixo:</p>
          
          <select id="service-select" class="booking-dropdown" onchange="updateServiceFromSelect(this)" required>
            <option value="" disabled selected>Clique aqui para escolher...</option>
            
            <optgroup label="üíÖ Manicure e Pedicure">
              <option value="pe-mao">P√© e M√£o Completo (R$ 45,00)</option>
              <option value="somente-maos">Somente M√£os (R$ 25,00)</option>
              <option value="somente-pes">Somente P√©s (R$ 30,00)</option>
            </optgroup>

            <optgroup label="üíá‚Äç‚ôÄÔ∏è Cabelos - Corte e Escova">
              <option value="corte-escova">Corte + Escova (R$ 85,00)</option>
              <option value="escova">Escova Simples (R$ 40,00)</option>
              <option value="progressiva">Escova Progressiva (R$ 180,00)</option>
            </optgroup>

            <optgroup label="üíÜ‚Äç‚ôÄÔ∏è Cabelos - Tratamentos">
              <option value="coloracao">Colora√ß√£o (R$ 50,00)</option>
              <option value="reconstrucao">Reconstru√ß√£o Capilar (R$ 60,00)</option>
              <option value="nutricao">Nutri√ß√£o (R$ 55,00)</option>
              <option value="hidratacao">Hidrata√ß√£o (R$ 50,00)</option>
              <option value="cronograma">Cronograma Capilar (R$ 150,00)</option>
            </optgroup>

            <optgroup label="‚ú® Face e Sobrancelha">
              <option value="design">Design de Sobrancelha (R$ 25,00)</option>
              <option value="buco">Bu√ßo com cera (R$ 15,00)</option>
            </optgroup>

            <optgroup label="üíÑ Maquiagem">
              <option value="maquiagem-simples">Maquiagem Simples (R$ 65,00)</option>
              <option value="penteado">Penteado (R$ 75,00)</option>
              <option value="maquiagem">Maquiagem Completa (Consultar)</option>
            </optgroup>
          </select>

          <div class="step-navigation">
            <button type="button" onclick="nextStep(2)" disabled id="next-step-1">Pr√≥ximo</button>
          </div>
        </fieldset>

        <fieldset id="step-2" class="booking-step">
          <legend>2. Escolha a Data e Hor√°rio</legend>
          
          <label for="booking-date">Data Preferida:</label>
          <input type="date" id="booking-date" onchange="fetchAvailableTimes()" required />
          
          <p id="time-loading" class="loading-message" style="display: none;">
            <i class="fa-solid fa-spinner fa-spin"></i> Buscando hor√°rios...
          </p>
          
          <div id="available-times">
            <p class="placeholder-text">Selecione uma data acima para ver os hor√°rios.</p>
          </div>
          
          <div class="step-navigation">
            <button type="button" onclick="prevStep(1)">Anterior</button>
            <button type="button" onclick="nextStep(3)" disabled id="next-step-2">Pr√≥ximo</button>
          </div>
        </fieldset>

        <fieldset id="step-3" class="booking-step">
          <legend>3. Seus Dados</legend>
          
          <section class="summary" style="padding: 15px; background-color: #f9f9f9; border-radius: 8px; margin-bottom: 20px;">
            <h3 style="margin-top:0; font-size:1em;">Resumo:</h3>
            <p style="margin:5px 0">Servi√ßo: <strong id="summary-service">...</strong></p>
            <p style="margin:5px 0">Data: <strong id="summary-date">...</strong></p>
            <p style="margin:5px 0">Hor√°rio: <strong id="summary-time">...</strong></p>
          </section>
          
          <label for="client-name">Seu Nome:</label>
          <input type="text" id="client-name" placeholder="Digite seu nome completo" required />
          
          <label for="client-whatsapp">WhatsApp (Opcional):</label>
          <input type="tel" id="client-whatsapp" placeholder="(XX) XXXXX-XXXX" />
          
          <div class="step-navigation">
            <button type="button" onclick="prevStep(2)">Anterior</button>
            <button type="submit" disabled id="submit-booking">
              Agendar no WhatsApp
            </button>
          </div>
        </fieldset>

        <section id="confirmation-message" class="booking-step success-view" style="display: none;">
          <h2><i class="fa-solid fa-check-circle"></i> Tudo Certo!</h2>
          <p>Seu pr√©-agendamento foi gerado.</p>
          <p>Estamos te redirecionando para o WhatsApp para confirmar com a Paula...</p>
          <a href="#" onclick="resetBooking()" class="new-booking-btn" style="display:block; margin-top:20px; color: var(--primary-color);">Fazer outro agendamento</a>
        </section>
        
      </form>
    </main>

    <a href="../../index.html" class="menu-btn">Voltar para o Menu Principal</a>
    
    <footer>
      <small>¬© 2025 - <a href="https://portfolioraposoofc.vercel.app" style="text-decoration: none; color: #735A33">Rap√¥so Web Dev</a> | Todos os direitos reservados.</small>
    </footer>

    <script src="../js/script.js"></script>
    <script>
      // Define a data m√≠nima para agendamento (A partir de amanh√£)
      document.addEventListener('DOMContentLoaded', () => {
          const today = new Date();
          today.setDate(today.getDate() + 1); 
          const tomorrow = today.toISOString().split('T')[0];
          const dateInput = document.getElementById('booking-date');
          if (dateInput) {
              dateInput.setAttribute('min', tomorrow);
          }
      });
    </script>
  </body>
</html>